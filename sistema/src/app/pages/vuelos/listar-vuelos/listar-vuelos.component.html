<app-navbar></app-navbar>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.13/jspdf.autotable.min.css"
/>

<section class="content">
  <div class="container-fluid">
    <div class="row m-t-sm">
      <div class="col-md-15">
        <div class="panel">
          <div class="panel-body">
            <div class="col-md-12 col-sm-12" id="list_alumnos">
              <div class="panel panel-filled">
                <div class="panel-body">
                  <div class="row">
                    <div class="col-sm-10">
                      <h5 class="m-t-xs">Vuelos Registrados</h5>
                    </div>
                    <div class="col-sm-2 text-right">
                      <div class="panel-body buttons-margin">
                        <a
                          id="btnNuevo"
                          class="btn btn-w-md btn-info"
                          routerLink="/crear-vuelos"
                          >Nuevo Vuelo +</a
                        >
                      </div>
                      <div class="panel-body buttons-margin">
                        <button
                          class="btn btn-w-md btn-info"
                          (click)="openPdfTables()"
                        >
                          Generar Reporte
                        </button>
                      </div>
                    </div>
                  </div>

                  <div class="table-responsive">
                    <table
                      *ngIf="listVuelos.length > 0"
                      class="table table-hover table-striped"
                    >
                      <thead>
                        <tr>
                          <th>NÃºmero de vuelo</th>
                          <th>Origen</th>
                          <th>Destino</th>
                          <th>Fecha</th>
                          <th>Piloto</th>
                          <th>Avion</th>
                          <th>Acciones</th>
                        </tr>
                      </thead>
                      <tbody id="datos">
                        <tr *ngFor="let vuelo of listVuelos">
                          <td>{{ vuelo.num_vuelo }}</td>
                          <td>{{ vuelo.origen }}</td>
                          <td>{{ vuelo.destino }}</td>
                          <td>{{ vuelo.fecha }}</td>
                          <td>{{ vuelo.piloto.nombre }}</td>
                          <td>{{ vuelo.avion.codigo }}</td>

                          <td>
                            <i
                              (click)="eliminarVuelo(vuelo._id)"
                              style="font-size: 25px"
                              class="pe pe-7s-trash text-accent"
                            ></i
                            >&nbsp;&nbsp;
                            <i
                              [routerLink]="['/editar-vuelo', vuelo._id]"
                              style="font-size: 25px"
                              class="pe pe-7s-pen text-accent"
                            ></i>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <br />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
